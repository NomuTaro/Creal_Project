## ホテルブッキングカーブ最適化分析ツール
### 1. 概要 ###   
このプロジェクトは、ホテルの予約履歴データ（`hotel_prices.csv`）を分析し、収益を最大化するための最適なブッキングカーブ（予約曲線のパターン）を発見することを目的としています。    

特に、クライアントの戦略（例：「駆け込み型」）や、プランの価格帯（例：スイート vs スタンダード）を考慮した、より実践的な分析が可能です。

### 2. 主な機能 ###
KPI自動計算: 総売上、販売数、ADR（平均客室単価）、RevPAR（販売可能客室あたり収益）などの重要指標を自動で算出します。         

#### ピア・グループ分析: ####       
プランを価格帯（松・竹・梅など）で自動的にグループ分けし、性質の近いプラン同士でパフォーマンスを比較します。これにより、スイートやビジネスなど、ホテルのクラスに応じた分析の最適化が可能となります。    
#### ベストプラクティス抽出: ####    
各価格帯グループの中から、クライアントの戦略に合致した「最も成功した日」の予約パターンを自動で特定します。    

#### 動的可視化: ####     
抽出したベストプラクティスについて、以下の情報を1つのグラフにまとめて描画します。      
**・累計予約数の推移（ブッキングカーブ）**   
**・日々の価格変動**    
**・満室ライン**    
**・分析結果（RevPAR、直前予約率など）**

| ホテル | 販売数 | 平均単価（ADR） | 稼働率 | 総売上   | RevPAR   |
| ----   | ----   | ----           | ----   | ----     | ----     |
| ホテルA | 10室   | 15,000円       | 100%   | 150,000円| 15,000円 |
| ホテルB | 80室   | 12,000円       | 80%    | 960,000円| 9,600円  |



### 3. 使い方 ###
** 必要な環境 **    
Python 3.x

** 必要なライブラリ: **    
pandas
matplotlib
japanize-matplotlib


セットアップ
このリポジトリをクローンまたはダウンロードします。

ターミナル（コマンドプロンプト）で、以下のコマンドを実行して必要なライブラリをインストールします。

pip install pandas matplotlib japanize-matplotlib

分析したいCSVデータ（例: hotel_prices.csv）を、このリポジトリのフォルダ内に配置します。

実行方法
analyze_and_plot_peer_group_champions関数が含まれるPythonスクリプト（例: booking_analyzer.py）を開き、最終行にあるファイルパスを実際のファイル名に修正します。

```
if __name__ == '__main__':
    # ↓↓↓ このファイルパスを実際のファイル名に変更してください ↓↓↓
    CSV_FILE_PATH = r'hotel_prices.csv'

    # 分析を実行
    analyze_and_plot_peer_group_champions(CSV_FILE_PATH, last_minute_threshold=0.5, num_tiers=3)
```
ターミナルで以下のコマンドを実行します。
```
python booking_analyzer.py
```
分析が実行され、結果のグラフが画面に表示されます。

4. コードの解説
`analyze_and_plot_peer_group_champions`
このプロジェクトのメイン関数です。以下の引数で分析内容をカスタマイズできます。

csv_path (必須): 分析対象のCSVファイルのパス。

last_minute_threshold (任意): 「駆け込み型」と判断する基準となる直前30日予約率の閾値。デフォルトは0.5（全予約の50%が直前30日以内）。

num_tiers (任意): プランをいくつの価格帯グループに分けるか。デフォルトは3（松・竹・梅）。

5. ライセンス
このプロジェクトはMITライセンスの下で公開されています。
